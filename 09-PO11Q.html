<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week 9 – PO11Q: Introduction to Quantitative Political Analysis I</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./10-PO11Q.html" rel="next">
<link href="./08-PO11Q.html" rel="prev">
<link href="./images/favicon-32.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-e2851886d12d134ff83effd9cfa02285.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="theme-color" content="#1d1f2b" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#1d1f2b" media="(prefers-color-scheme: light)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<script>
// This MUST come before the script src above
window.MathJax = {
  tex: {
    // (Quarto already sets these, but harmless to repeat)
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]'], ['$$', '$$']]
  },
  // Tell the CHTML output to use Fira
  chtml: { font: 'mathjax-fira' }
};
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-chtml-nofont.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/Crest_white.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><span class="title-long">PO11Q: Introduction to Quantitative Political Analysis I</span> <span class="title-short">PO11Q</span></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://drflolinke.github.io/"> 
<span class="menu-text">Flo’s Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./09-PO11Q.html"><span class="chapter-title">Week 9</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 5</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 6</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 7</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 8</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-PO11Q.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Week 9</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-PO11Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 10</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-Downloads.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Downloads</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-Glossary.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Full Glossary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-bib.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">List of References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Week 9</h2>
   
  <ul>
  <li><a href="#group-work-self-reflection" id="toc-group-work-self-reflection" class="nav-link active" data-scroll-target="#group-work-self-reflection">Group Work – Self-Reflection</a></li>
  <li><a href="#the-t-distribution" id="toc-the-t-distribution" class="nav-link" data-scroll-target="#the-t-distribution">The t-distribution</a></li>
  <li><a href="#how-effect-size-sample-size-and-power-shape-inference" id="toc-how-effect-size-sample-size-and-power-shape-inference" class="nav-link" data-scroll-target="#how-effect-size-sample-size-and-power-shape-inference">How effect size, sample size, and power shape inference</a>
  <ul class="collapse">
  <li><a href="#what-is-cohens-d" id="toc-what-is-cohens-d" class="nav-link" data-scroll-target="#what-is-cohens-d">What is Cohen’s <span class="math inline">\(d\)</span>?</a></li>
  <li><a href="#what-is-statistical-power" id="toc-what-is-statistical-power" class="nav-link" data-scroll-target="#what-is-statistical-power">What is statistical power?</a></li>
  <li><a href="#an-application" id="toc-an-application" class="nav-link" data-scroll-target="#an-application">An Application</a>
  <ul class="collapse">
  <li><a href="#here-is-how-to-use-it" id="toc-here-is-how-to-use-it" class="nav-link" data-scroll-target="#here-is-how-to-use-it">Here is how to use it:</a></li>
  <li><a href="#how-to-read-the-power-vs-n-plot" id="toc-how-to-read-the-power-vs-n-plot" class="nav-link" data-scroll-target="#how-to-read-the-power-vs-n-plot">How to read the Power vs <span class="math inline">\(n\)</span> plot</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a>
  <ul class="collapse">
  <li><a href="#conceptual---working-with-the-app" id="toc-conceptual---working-with-the-app" class="nav-link" data-scroll-target="#conceptual---working-with-the-app">Conceptual - Working with the App</a></li>
  <li><a href="#r-exercises" id="toc-r-exercises" class="nav-link" data-scroll-target="#r-exercises">R Exercises</a></li>
  <li><a href="#solutions" id="toc-solutions" class="nav-link" data-scroll-target="#solutions">Solutions</a></li>
  </ul></li>
  <li><a href="#homework-for-week-10" id="toc-homework-for-week-10" class="nav-link" data-scroll-target="#homework-for-week-10">Homework for Week 10</a></li>
  <li><a href="#glossary" id="toc-glossary" class="nav-link" data-scroll-target="#glossary">Glossary</a></li>
  <li><a href="#flashcards" id="toc-flashcards" class="nav-link" data-scroll-target="#flashcards">Flashcards</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Week 9</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="group-work-self-reflection" class="level1 unnumbered">
<h1 class="unnumbered">Group Work – Self-Reflection<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></h1>
<ol type="1">
<li>What does a significance test do?</li>
<li>Why can we not sacrifice the randomisation assumption in significance testing?</li>
<li>Explain the difference between a significance test and a confidence interval.</li>
<li>Explain the relationship between the desired <span class="math inline">\(\alpha\)</span> level and the Type I and II Errors.</li>
<li>What are the differences between a one- and a two-sided significance test? Give an example for each.</li>
</ol>
<div class="stop">
<p>Please stop here and don’t go beyond this point until we have compared notes on your answers.</p>
</div>
</section>
<section id="the-t-distribution" class="level1 unnumbered">
<h1 class="unnumbered">The t-distribution</h1>
<p>As you have seen in the lecture, the t-distribution is fundamental to conducting tests of statistical significance. Here are some exercises to familiarise yourself with the distribution. Please use the app below to find your answers.</p>
<ol type="1">
<li>How the degrees of freedom <span class="math inline">\(df\)</span> change the shape and critical values
<ol type="a">
<li>Set tail type = two-tailed and <span class="math inline">\(\alpha = 0.05\)</span>. Move <span class="math inline">\(n\)</span> from 3 to 50 (<span class="math inline">\(df\)</span> from 2 to 49). Record the critical values <span class="math inline">\(t_{\mathrm{crit}}\)</span> at <span class="math inline">\(n \in \{3, 5, 10, 20, 50\}\)</span>.<br>
</li>
<li>Compare these to the normal critical value <span class="math inline">\(z_{0.025} \approx 1.960\)</span>.<br>
Which <span class="math inline">\(n\)</span> (or <span class="math inline">\(df\)</span>) makes <span class="math inline">\(t_{\mathrm{crit}}\)</span> within 0.05 of 1.96?<br>
</li>
<li>Explain why <span class="math inline">\(t\)</span> approaches the standard normal as <span class="math inline">\(df \to \infty\)</span>.</li>
</ol></li>
<li>One-tailed vs two-tailed critical regions
<ol type="a">
<li>Fix <span class="math inline">\(df = 14\)</span>. Toggle between two-tailed and one-tailed (upper) with <span class="math inline">\(\alpha = 0.05\)</span>.<br>
Note the two cutpoints for the two-tailed test (<span class="math inline">\(\pm t_{0.025,14}\)</span>) and<br>
the single cutpoint for the one-tailed test (<span class="math inline">\(t_{0.05,14}\)</span>).<br>
</li>
<li>For a test with <span class="math inline">\(H_0: \mu = \mu_0\)</span> and <span class="math inline">\(H_1: \mu &gt; \mu_0\)</span>, which cutpoint is relevant and why?<br>
</li>
<li>Verify with shading that the total shaded probability equals <span class="math inline">\(\alpha\)</span> in each case.</li>
</ol></li>
</ol>
<iframe id="tdist-iframe" src="https://drflolinke.github.io/shinylive/tdis/" title="t distribution explorer" style="width:100%; border:0; display:block; min-height:600px;">
</iframe>

<script src="https://cdn.jsdelivr.net/npm/iframe-resizer/js/iframeResizer.min.js"></script>
<script>
  iFrameResize({
    checkOrigin: false,              // relax for testing; restrict later
    heightCalculationMethod: 'max',  // robust for ShinyLive dynamic height
    sizeHeight: true,
    onInit: function(iframe){
      setTimeout(function(){
        if (iframe.iFrameResizer) iframe.iFrameResizer.resize();
      }, 300);
    },
    log: false
  }, '#tdist-iframe');
</script>
</section>
<section id="how-effect-size-sample-size-and-power-shape-inference" class="level1 unnumbered">
<h1 class="unnumbered">How effect size, sample size, and power shape inference</h1>
<p>In statistical inference we care about two questions:</p>
<ol type="1">
<li>Is there evidence of a real effect? (a hypothesis test / <span class="math inline">\(p\)</span>-value question)<br>
</li>
<li>How big is the effect, and is it meaningful? (an effect size / estimation question)</li>
</ol>
<p>Three ideas determine how confidently we can answer these:</p>
<ul>
<li><a href="https://drflolinke.github.io/PO91Q/12-Glossary.html">Effect size</a>: the magnitude of the difference or relationship. Larger effects are easier to spot and usually more practically important.</li>
<li>Sample size (<span class="math inline">\(n\)</span>): how much data we have. Bigger <span class="math inline">\(n\)</span> reduces sampling noise, tightens confidence intervals, and increases the chance of detecting real effects.</li>
<li><a href="https://drflolinke.github.io/PO91Q/12-Glossary.html">Power (aka “Sensitivity”)</a>: the probability that a test will detect a true effect (reject <span class="math inline">\(H_0\)</span> when it is false). Power grows with larger effects and larger samples, and shrinks when you demand stronger evidence (smaller <span class="math inline">\(\alpha\)</span>) or when variability is high.</li>
</ul>
<p>It is important to consider effect size, sample size, and statistical power together when designing or interpreting a study. A very small effect can become statistically significant with a sufficiently large <span class="math inline">\(n\)</span>, yet still be of little practical importance. <span class="citation" data-cites="prz:2000">Przeworski et al. (2000)</span> and <span class="citation" data-cites="boix:2003">Boix &amp; Stokes (2003)</span>, for example, agree “that the impact of GDP on democratization in the postwar period is negligible, even though it may be statistically significant.” <span class="citation" data-cites="epstein:2006">(Epstein et al., 2006)</span> Conversely, with too small a sample, even a moderate effect may fail to reach significance simply because statistical power is inadequate. Good study planning therefore requires balancing the smallest effect that is considered meaningful (the minimum important difference) against a sample size that provides adequate power at the chosen significance level <span class="math inline">\(\alpha\)</span>. As a rough guide, I have summarised some scenarios for the interplay of effect size and sample size on statistical power.</p>
<p><br></p>
<div class="custom-html-table">
<div style="width:60%; margin:0 auto;">
<div id="tbl-rulethumb" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-rulethumb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Effect Size</th>
<th>Sample Size</th>
<th>Likely Outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Large</td>
<td>Small</td>
<td>May still detect effect</td>
</tr>
<tr class="even">
<td>Small</td>
<td>Large</td>
<td>Likely to detect even small effect</td>
</tr>
<tr class="odd">
<td>Small</td>
<td>Small</td>
<td>Low power – may miss real effect</td>
</tr>
<tr class="even">
<td>Large</td>
<td>Large</td>
<td>High chance of detecting effect</td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-rulethumb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Rule-of-thumb scenarios
</figcaption>
</figure>
</div>
</div>
</div>
<section id="what-is-cohens-d" class="level2">
<h2 class="anchored" data-anchor-id="what-is-cohens-d">What is Cohen’s <span class="math inline">\(d\)</span>?</h2>
<p>To measure effect size, we will be using Cohen’s <span class="math inline">\(d\)</span>. Cohen’s <span class="math inline">\(d\)</span> is a way of describing how big an effect is, in units that don’t depend on the original scale. Let me explain this by comparing how far the average exam mark (42) from a sample of students is to the pass mark of 40. In short, instead of saying “the mean was 42 vs the null value of 40”, we will ask: “how big is that 2-point shift compared to the typical variation in marks?”</p>
<p>We start by identifying the observed difference. With a sample mean of 42 (mean indeed!) and a null hypothesis value of 40, the observed difference is</p>
<p><span class="math display">\[
\text{Difference} = 42 - 40 = 2
\]</span></p>
<p>This raw difference might seem informative at first glance, but it will be hard to compare this across different contexts. Why? Suppose we look at exam marks in two different modules. In course A students’ marks are close bunched together, most within about 5 points of the average. In this setting, a 2-point increase is fairly big compared to the usual spread. In module B, meanwhile, students’ marks vary a lot, often 20 points above or below the average. In this setting, the same 2-point increase is tiny compared to the usual spread.</p>
<p>This is why we cannot stop at raw differences – we need to find a way to standardise the difference so that we can compare across different contexts. And this is precisely what Cohen’s <span class="math inline">\(d\)</span> does. It is defined as</p>
<p><span class="math display">\[
d = \frac{\bar x - \mu_0}{\text{s}}
\]</span></p>
<p>where <span class="math inline">\(\mu_0\)</span> is the null hypothesis value. This formula standardises the raw distance by dividing it by the standard deviation (s) of marks.</p>
<p>To continue with our example, if the typical standard deviation of exam marks is about 10 points, then:</p>
<p><span class="math display">\[
d = \frac{42 - 40}{10} = \frac{2}{10} = 0.20
\]</span></p>
<p>So our observed effect is <span class="math inline">\(d = 0.20\)</span>. How do we interpret this result? <span class="citation" data-cites="cohen:2013">Cohen (2013)</span> suggested some rough rules of thumb for interpreting <span class="math inline">\(d\)</span>:</p>
<div class="bulb">
<p><strong>Interpretation</strong></p>
<ul>
<li><span class="math inline">\(d \approx 0.2 \Rightarrow\)</span> small effect (a subtle shift, often hard to detect)<br>
</li>
<li><span class="math inline">\(d \approx 0.5 \Rightarrow\)</span> medium effect (a clear, noticeable shift)</li>
<li><span class="math inline">\(d \approx 0.8 \Rightarrow\)</span> large effect (a big, obvious shift)</li>
</ul>
<p>Note that these are rough guidelines, only. The onus is on you as a researcher to judge what is required/acceptable in the context of your project.</p>
</div>
<p>A value of <span class="math inline">\(d = 0.20\)</span> in our example means the average mark is 0.2 standard deviations above the null value. That is considered a small effect: the group did a little better than the pass mark, but the difference is modest relative to the variability in marks.</p>
<p>In summary, Cohen’s <span class="math inline">\(d\)</span> encourages us to think not just about whether an effect exists, but whether it is <em>meaningfully</em> large. We are now going to use it to determine the statistical power of a one-sample significance test. You will see that smaller <span class="math inline">\(d\)</span> values need larger sample sizes to be detected reliably.</p>
</section>
<section id="what-is-statistical-power" class="level2">
<h2 class="anchored" data-anchor-id="what-is-statistical-power">What is statistical power?</h2>
<p>Statistical power is the probability that a study will detect an effect if the effect really exists. Formally, we can write this as:</p>
<p><span class="math display">\[
\text{Power} = P(\text{reject } H_0 \mid \text{effect exists})
\]</span></p>
<ul>
<li>High power means we are likely to detect real effects.<br>
</li>
<li>Low power means we might miss them, even if they exist.</li>
</ul>
<p>A common benchmark is 80% power (see <span class="citation" data-cites="lakens:2013">Lakens (2013)</span> and <span class="citation" data-cites="button:2013">Button et al. (2013)</span>), which means: if the true effect is at least as big as the one we are testing for, then in the long run we would detect it in 80% of studies with the same sample size and test procedure.</p>
<p>But how do we get from <span class="math inline">\(d\)</span> to power? The link is through the t-statistic. When you read the fomula and description for Cohen’s <span class="math inline">\(d\)</span> earlier, you might have had a deja-vue, because the t-score is defined as</p>
<p><span class="math display">\[
t = \frac{\bar x - \mu_0}{\text{se}}, \qquad \text{where se}=\frac{s}{\sqrt{n}}
\]</span></p>
<p>This means that <span class="math inline">\(t\)</span> and <span class="math inline">\(d\)</span> are very closely related, namely through this little exercise in algebra:</p>
<p><span class="math display">\[\begin{align}
t &amp;\;=\; \frac{\bar{x}-\mu_0}{\,s/\sqrt{n}\,} = \frac{(\bar{x}-\mu_0)\cdot(1/s)}{(s/\sqrt{n})\cdot(1/s)} \;= \\ \\
  &amp;\;=\; \frac{(\bar{x}-\mu_0)/s}{(s/\sqrt{n})/s} \;=\; \frac{(\bar{x}-\mu_0)/s}{\,1/\sqrt{n}\,} \;= \\ \\
  &amp;\;=\; \left( \frac{\bar{x}-\mu_0}{s} \right) \cdot \frac{\sqrt{n}}{1}  \;=\; \left( \frac{\bar{x}-\mu_0}{s} \right) \cdot \sqrt{n} \;= \\ \\
  &amp;\;=\; d\cdot \sqrt{n}.
\end{align}\]</span></p>
<ul>
<li><span class="math inline">\(d\)</span> tells us the size of the effect relative to the spread.<br>
</li>
<li><span class="math inline">\(\sqrt{n}\)</span> tells us how sample size sharpens our estimate: larger <span class="math inline">\(n\)</span> shrinks sampling noise.</li>
</ul>
<p>So for a fixed <span class="math inline">\(d\)</span>, increasing <span class="math inline">\(n\)</span> makes <span class="math inline">\(t\)</span> larger and pushes us past the critical threshold for significance more often — which is exactly what raises power. The key is that statistical power is defined as the probability of correctly rejecting the null when the effect size is truly <span class="math inline">\(d\)</span>. Equivalently, it is the probability that the test statistic <span class="math inline">\(t\)</span>, which depends on both <span class="math inline">\(d\)</span> and <span class="math inline">\(n\)</span>, will exceed the critical cut-off. Thus, as <span class="math inline">\(n\)</span> increases, the distribution of <span class="math inline">\(t\)</span> shifts further into the rejection region, and the probability of crossing the cut-off – the power – goes up.</p>
<p>The calculation of power itself is slightly beyond the scope of an introductory level module, because we need a different distribution, a noncentral <span class="math inline">\(t\)</span> distribution to be precise, for this purpose. Instead, I have designed an app which calculates this automatically for you (see below). What might be interesting to know in the context of the lecture, however, is that it is equal to <span class="math inline">\(1-\beta\)</span> where <span class="math inline">\(\beta\)</span> is the Type II Error. Let’s conclude this section with the following statements:</p>
<div class="bulb">
<ul>
<li>For a small effect (<span class="math inline">\(d = 0.20\)</span>), increasing <span class="math inline">\(n\)</span> pushes <span class="math inline">\(t\)</span> upward by <span class="math inline">\(\sqrt{n}\)</span>.<br>
</li>
<li>With small <span class="math inline">\(n\)</span>, sampling noise keeps <span class="math inline">\(t\)</span> below the cut-off most of the time (low power).<br>
</li>
<li>With larger <span class="math inline">\(n\)</span>, the standard error shrinks, <span class="math inline">\(t\)</span> grows, and power increases.<br>
</li>
<li>In terms of the exam example, you could use this information for planning a survey: if you care about detecting a small but meaningful 2-point difference, you generally need larger samples than 25 – often well above 100 – to achieve comfortable power (for example, around 80%).</li>
</ul>
</div>
</section>
<section id="an-application" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="an-application">An Application</h2>
<p>To illustrate how this works in practice, I have written <a href="https://drflorianlinke.shinyapps.io/shiny_effect_size/">an application</a> that lets you evaluate a completed one-sample t-test and plan a replication. You enter the results you observed in that test, and the app shows the statistical power at your observed <span class="math inline">\(n\)</span> (two-sided, at your chosen <span class="math inline">\(\alpha\)</span>). As a special feature, you can switch to the “smallest effect size of interest” (SESOI), which lets you plan the <span class="math inline">\(n\)</span> required for a meaningful effect.</p>
<section id="here-is-how-to-use-it" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="here-is-how-to-use-it">Here is how to use it:</h3>
<ol type="1">
<li>Enter the observed t-statistic and the observed sample size <span class="math inline">\(n\)</span>.</li>
<li>Choose <span class="math inline">\(\alpha\)</span> (significance level).</li>
<li>Interpret the statistical power of your test.</li>
<li>Optional: turn on SESOI and pick a Cohen’s <span class="math inline">\(d\)</span> (Small <span class="math inline">\(\approx 0.2\)</span>, Medium <span class="math inline">\(\approx 0.5\)</span>, Large <span class="math inline">\(\approx 0.8\)</span>).
<ul>
<li>SESOI tells the app that only effects at least this big are meaningful.<br>
</li>
<li>If SESOI is off, the app uses the observed effect <span class="math inline">\(\hat d = t/\sqrt{n}\)</span>.<br>
</li>
<li>If SESOI is on, the app fixes the curve at your chosen <span class="math inline">\(d\)</span> and, for convenience, shows the required <span class="math inline">\(n\)</span> for 80% power as an orange dotted line.</li>
</ul></li>
</ol>
<p>In order to choose <span class="math inline">\(d\)</span> appropriately, pick a minimum meaningful change in real units and divide by a typical standard deviation. For example, if you think that a difference of 2 exam points from an assumed null value (such as the fail mark of 40) matters and the SD is about 10, then <span class="math inline">\(d \approx 2/10 = 0.2\)</span> (small).</p>
<div class="baser">
<details>
<summary>
How the “Power vs n” curve is calculated
</summary>
<p>When you choose a fixed standardized effect size <span class="math inline">\(d\)</span> (either your observed <span class="math inline">\(\hat d = \tfrac{t}{\sqrt{n_{\text{obs}}}}\)</span> or a SESOI), the curve shows the power of a two-sided one-sample <span class="math inline">\(t\)</span>-test across many candidate sample sizes <span class="math inline">\(n\)</span>.</p>
<p>For each <span class="math inline">\(n\)</span>:</p>
<ul>
<li>Degrees of freedom: <span class="math inline">\(\mathrm{df} = n - 1\)</span><br>
</li>
<li>Noncentrality parameter: <span class="math inline">\(\delta = d\sqrt{n}\)</span><br>
</li>
<li>Critical cut-off (two-sided, level <span class="math inline">\(\alpha\)</span>): <span class="math inline">\(t_{\alpha/2,\,\mathrm{df}}\)</span></li>
</ul>
<p>Under a true effect <span class="math inline">\(d\)</span>, the test statistic follows a noncentral <span class="math inline">\(t\)</span> distribution:</p>
<p><span class="math display">\[
T \sim t_{\mathrm{df}}(\text{ncp} = \delta)
\]</span></p>
<p>The power is the probability that <span class="math inline">\(|T|\)</span> exceeds the critical cut-off:</p>
<p><span class="math display">\[
\mathrm{power}(n)
= \Pr\!\left(|T|\ge t_{\alpha/2,\ \mathrm{df}} \,\middle|\, \delta\right)
= \big[1 - F_{\text{nct}}(t_{\alpha/2,\ \mathrm{df}};\ \mathrm{df},\ \delta)\big]
+ F_{\text{nct}}(-t_{\alpha/2,\ \mathrm{df}};\ \mathrm{df},\ \delta)
\]</span></p>
<p>where <span class="math inline">\(F_{\text{nct}}\)</span> is the CDF of the noncentral <span class="math inline">\(t\)</span> distribution.</p>
<p><strong>What the curve means</strong></p>
<ul>
<li>SESOI off: The curve treats the observed <span class="math inline">\(\hat d = t_{\text{obs}}/\sqrt{n_{\text{obs}}}\)</span> as the “true” effect and shows how power would change if you repeated the study with different <span class="math inline">\(n\)</span>.<br>
</li>
<li>SESOI on: The curve instead uses your chosen meaningful effect size <span class="math inline">\(d\)</span>. In this mode, the app also shows the required <span class="math inline">\(n\)</span> to reach 80% power with an orange marker.</li>
</ul>
<p><strong>Reproducing the curve in R</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Power of a two-sided one-sample t-test via the noncentral t distribution</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>power_one_sample <span class="ot">&lt;-</span> <span class="cf">function</span>(d, n, <span class="at">alpha =</span> <span class="fl">0.05</span>) {</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  df    <span class="ot">&lt;-</span> n <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  tcrit <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="dv">1</span> <span class="sc">-</span> alpha<span class="sc">/</span><span class="dv">2</span>, <span class="at">df =</span> df)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  delta <span class="ot">&lt;-</span> d <span class="sc">*</span> <span class="fu">sqrt</span>(n)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  p_upper <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">pt</span>(tcrit, <span class="at">df =</span> df, <span class="at">ncp =</span> delta)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  p_lower <span class="ot">&lt;-</span>     <span class="fu">pt</span>(<span class="sc">-</span>tcrit, <span class="at">df =</span> df, <span class="at">ncp =</span> delta)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  p_upper <span class="sc">+</span> p_lower</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Example settings</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>d_use <span class="ot">&lt;-</span> <span class="fl">0.50</span>          <span class="co"># e.g., "medium" SESOI; or d_use &lt;- tobs/sqrt(nobs)</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>n_seq <span class="ot">&lt;-</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">200</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the curve</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>power_vals <span class="ot">&lt;-</span> <span class="fu">sapply</span>(n_seq, power_one_sample, <span class="at">d =</span> d_use, <span class="at">alpha =</span> alpha)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>df_curve   <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">n =</span> n_seq, <span class="at">power =</span> power_vals)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional: check against power.t.test at a single n</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>n_check <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">power_one_sample</span>(<span class="at">d =</span> d_use, <span class="at">n =</span> n_check, <span class="at">alpha =</span> alpha)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> stats<span class="sc">::</span><span class="fu">power.t.test</span>(</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> n_check, <span class="at">delta =</span> d_use, <span class="at">sd =</span> <span class="dv">1</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">sig.level =</span> alpha, <span class="at">type =</span> <span class="st">"one.sample"</span>, <span class="at">alternative =</span> <span class="st">"two.sided"</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>)<span class="sc">$</span>power</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"Check at n=%d: custom=%.4f, power.t.test=%.4f"</span>, n_check, p1, p2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Check at n=30: custom=0.7540, power.t.test=0.7540"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the curve</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_curve, <span class="fu">aes</span>(n, power)) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">0.80</span>, <span class="at">linetype =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">sprintf</span>(<span class="st">"Power vs n (one-sample t-test; d = %.2f, alpha = %.2f)"</span>, d_use, alpha),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Sample size n"</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Power"</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-PO11Q_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Why <code>sd = 1</code> in the check? Because Cohen’s <span class="math inline">\(d\)</span> is already standardized (<span class="math inline">\(d = \Delta/\sigma\)</span>). The function <code>power.t.test</code> expects the unstandardized difference <span class="math inline">\(\Delta\)</span> and the population standard deviation <span class="math inline">\(\sigma\)</span>. Setting <code>sd = 1</code> and <code>delta = d</code> makes the inputs consistent with a standardized effect size.</p>
</details>
</div>
</section>
<section id="how-to-read-the-power-vs-n-plot" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="how-to-read-the-power-vs-n-plot">How to read the Power vs <span class="math inline">\(n\)</span> plot</h3>
<ul>
<li>Axes and lines
<ul>
<li>X-axis: sample size <span class="math inline">\(n\)</span> (one-sample test).</li>
<li>Y-axis: power (0 to 1).</li>
<li>Solid curve: analytical power for the current effect and <span class="math inline">\(\alpha\)</span>.
<ul>
<li>With SESOI off: uses <span class="math inline">\(\hat d = t/\sqrt{n_{\text{obs}}}\)</span>.</li>
<li>With SESOI on: uses your chosen <span class="math inline">\(d\)</span> (SESOI).</li>
</ul></li>
<li>Dashed horizontal line at 0.80: a common 80% power target.</li>
<li>Dotted vertical line (grey): your observed <span class="math inline">\(n\)</span>; the dot shows power at that <span class="math inline">\(n\)</span>.</li>
<li>Dotted vertical line (orange): shown only when SESOI is on; marks the smallest <span class="math inline">\(n\)</span> that reaches 0.80 power (labelled as <span class="math inline">\(n \approx \dots\)</span> @ 80% power).</li>
</ul></li>
<li>Finding the sample size you need
<ul>
<li>With SESOI on, read the orange line and label to get the sample size to plan for 80% power at your chosen <span class="math inline">\(\alpha\)</span>.</li>
<li>If the curve never hits 0.80 within the plot range, you would need a larger <span class="math inline">\(n\)</span>, a larger meaningful effect (bigger <span class="math inline">\(|d|\)</span>), a one-sided test (only if justified), or a larger <span class="math inline">\(\alpha\)</span> (with caution).</li>
</ul></li>
<li>How the controls shift the curve
<ul>
<li>Larger <span class="math inline">\(|d|\)</span> moves the curve up and left (fewer <span class="math inline">\(n\)</span> needed).</li>
<li>Increasing <span class="math inline">\(\alpha\)</span> (for example, 0.10 vs 0.05) moves the curve up; decreasing <span class="math inline">\(\alpha\)</span> moves it down.</li>
<li>Changing the observed <span class="math inline">\(t\)</span> or <span class="math inline">\(n\)</span> with SESOI off updates <span class="math inline">\(\hat d\)</span> and thus the curve. With SESOI on, the curve stays fixed by your chosen <span class="math inline">\(d\)</span>; changing <span class="math inline">\(n\)</span> only moves the dot.</li>
</ul></li>
<li>Shape and diminishing returns
<ul>
<li>The curve is steepest at small <span class="math inline">\(n\)</span> and flattens as power approaches 1.</li>
<li>Because <span class="math inline">\(t = d\sqrt{n}\)</span>, halving <span class="math inline">\(|d|\)</span> typically requires about four times the <span class="math inline">\(n\)</span> to maintain similar power.</li>
</ul></li>
<li>Interpreting the dot and the lines
<ul>
<li>The dot is your current power at the observed <span class="math inline">\(n\)</span>.</li>
<li>If the dot is below 0.80, you likely need a bigger <span class="math inline">\(n\)</span> (or a larger <span class="math inline">\(d\)</span> of interest, higher <span class="math inline">\(\alpha\)</span>, or a justified one-sided test).</li>
</ul></li>
<li>Remember
<ul>
<li>Power is the probability to reject the null-hypothesis given that an effect exists, or formally <span class="math inline">\(P(\text{reject } H_0 \mid \text{effect exists})\)</span>. It is not a <span class="math inline">\(p\)</span>-value and not the probability that <span class="math inline">\(H_0\)</span> is true.</li>
<li>You can pair power planning with a SESOI: decide what <span class="math inline">\(d\)</span> would be meaningful in your context and size your study to detect it.</li>
</ul></li>
</ul>
<div class="bulb">
<p><strong>What this means in practice:</strong></p>
<ul>
<li>That a result is statistically significant does not mean that it is practically important. With very large <span class="math inline">\(n\)</span>, even tiny effects can be significant.<br>
</li>
<li>Equally, insignificant results do no mean “no true effect”. With small <span class="math inline">\(n\)</span>, a real effect can be missed because power is low.</li>
</ul>
</div>
</section>
</section>
</section>
<section id="exercises" class="level1 unnumbered">
<h1 class="unnumbered">Exercises</h1>
<div class="bulb">
<p><strong>Interpreting Significance Tests</strong></p>
<p>In these exercises, and when reporting statistical results more generally, you’ll be required to interpret the outcome of a significance test. To do this well, it’s important to use language that reflects what null hypothesis significance testing (NHST) actually tells us, without overstating what the test can conclude.</p>
<p>NHST works by starting with the null hypothesis - usually a claim like “there is no effect” or “there is no difference”. We use the data to test whether that assumption is plausible. If the p-value is small, it means that results as extreme as the one we observed — or more extreme — would be rare if the null hypothesis were true. So, we take that as evidence against the null. But if the p-value is large, then the data are consistent with the null. And that’s where your interpretation should stop (at least at the introductory level, to avoid stretching and overstating).</p>
<p>There are two possible outcomes of a significance test: (1) your p-value is <strong>below</strong> the required significance level, and (2) your p-value is <strong>above</strong> the required significance level. Let’s look at these in turn:</p>
<ol type="1">
<li><p>If your p-value is below the required significance level, you can say things like:</p>
<ul>
<li>“There is evidence of an effect.”</li>
<li>“We reject the null hypothesis.”</li>
<li>“The data provide evidence against the null hypothesis.”</li>
<li>“There is statistically significant evidence of a difference (or relationship, or effect).”</li>
</ul>
<p><span style="display:block; height: 0.5em;"></span></p>
<p>Avoid phrasing that implies certainty, such as:</p>
<ul>
<li>🚫 “We proved the alternative hypothesis.”</li>
<li>🚫 “We proved that there is an effect.”</li>
<li>🚫 “We accept the alternative hypothesis.”</li>
</ul></li>
</ol>
<p><span style="display:block; height: 0.1em;"></span></p>
<ol start="2" type="1">
<li><p>If your p-value is above the required significance level to reject the null hypothesis, you can say things like:</p>
<ul>
<li>“There is insufficient evidence for an effect (of a difference, for a relationship).”</li>
<li>“We cannot reject the null hypothesis.”</li>
<li>“We fail to reject the null hypothesis.”</li>
<li>“The results are consistent with the null hypothesis.”</li>
</ul>
<p><span style="display:block; height: 0.5em;"></span></p>
<p>Avoid phrasing that overstates what the test can tell you, such as:</p>
<ul>
<li>🚫 “We proved the null hypothesis.”</li>
<li>🚫 “We reject the alternative hypothesis.”</li>
<li>🚫 “The null hypothesis is true.”</li>
</ul></li>
</ol>
<p><span style="display:block; height: 0.1em;"></span></p>
<p>Having taught quantitative political analysis for many years, I know that students love to use the word “prove” when they interpret their results. But there is no proof in significance testing, because we deal with probability statements, not certainty.</p>
</div>
<section id="conceptual---working-with-the-app" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="conceptual---working-with-the-app">Conceptual - Working with the App</h2>
<ol type="1">
<li>Same effect size, different n (mapping <span class="math inline">\(t\)</span>, <span class="math inline">\(n\)</span>, and <span class="math inline">\(\hat d\)</span>)
<ol type="a">
<li>Set observed <span class="math inline">\(t=1.6\)</span> and <span class="math inline">\(n=16\)</span>. Note <span class="math inline">\(\hat d = t/\sqrt{n}\)</span> and the power at the observed <span class="math inline">\(n\)</span>.<br>
</li>
<li>Now keep <span class="math inline">\(\hat d\)</span> the same but increase <span class="math inline">\(n\)</span>: set <span class="math inline">\(n=64\)</span> and <span class="math inline">\(t=3.2\)</span> (since <span class="math inline">\(t = d \times \sqrt{n}\)</span>). Confirm that <span class="math inline">\(\hat d\)</span> is unchanged while power increases.<br>
</li>
<li>Explain why power rises with <span class="math inline">\(n\)</span> even when the underlying effect size <span class="math inline">\(\hat d\)</span> stays the same.</li>
</ol></li>
<li>Planning with a SESOI and <span class="math inline">\(\alpha\)</span> sensitivity
<ol type="a">
<li>Enter <span class="math inline">\(t=2.0\)</span> and <span class="math inline">\(n=30\)</span> (<span class="math inline">\(\alpha=0.05\)</span>). Record <span class="math inline">\(\hat d\)</span> and the power at the observed <span class="math inline">\(n\)</span>.<br>
</li>
<li>Turn on “Use smallest effect size of interest” and choose SESOI <span class="math inline">\(d=0.5\)</span>. Read the orange marker: the required <span class="math inline">\(n\)</span> for <span class="math inline">\(80\%\)</span> power at <span class="math inline">\(\alpha=0.05\)</span>.<br>
</li>
<li>Change <span class="math inline">\(\alpha\)</span> to <span class="math inline">\(0.10\)</span> and then to <span class="math inline">\(0.01\)</span>. How does the required <span class="math inline">\(n\)</span> for <span class="math inline">\(80\%\)</span> power shift as <span class="math inline">\(\alpha\)</span> changes? Explain why a stricter <span class="math inline">\(\alpha\)</span> requires a larger <span class="math inline">\(n\)</span> for the same power.</li>
</ol></li>
<li>Was the study well powered? Post-hoc check and replication planning
<ol type="a">
<li>Suppose your study reported <span class="math inline">\(t=2.1\)</span> with <span class="math inline">\(n=25\)</span> at <span class="math inline">\(\alpha=0.05\)</span>. Enter these and record <span class="math inline">\(\hat d\)</span> and the power at the observed <span class="math inline">\(n\)</span>. Is the power comfortably high?<br>
</li>
<li>If you wanted <span class="math inline">\(80\%\)</span> power to detect an effect around this magnitude in a replication, turn on SESOI and choose the closest option to your <span class="math inline">\(\hat d\)</span> (for example, Small <span class="math inline">\(d=0.2\)</span> if <span class="math inline">\(\hat d\)</span> is small, Medium <span class="math inline">\(d=0.5\)</span> if <span class="math inline">\(\hat d \approx 0.5\)</span>). Note the orange “<span class="math inline">\(n\)</span> for <span class="math inline">\(80\%\)</span> power” marker.<br>
</li>
<li>Explain why a significant result with low power can be fragile, and how choosing a SESOI (a target <span class="math inline">\(d\)</span>) helps you plan a more reliable replication sample size.</li>
</ol></li>
</ol>
</section>
<section id="r-exercises" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="r-exercises">R Exercises</h2>
<p>These exercises will use the <a href="files/Week 9/ks2.csv">ks2.csv</a> dataset. This data comprises fictitious<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> average grades of Key Stage 2 (KS2) students in the UK, with 1,980 KS2 students’ test scores being included for reading (<code>reading</code>), mathematics (<code>maths</code>), and grammar, punctuation, and spelling (<code>gps</code>), as well as the mean of these three test scores (<code>avg\_all</code>). The test scores have been standardised, with 80 representing the lowest possible mark, 120 representing the highest possible mark, 100 representing the minimum passing mark, and -1 representing an ungraded test.</p>
<ol type="1">
<li>Load the <a href="files/Week 9/ks2.csv">ks2.csv</a> dataset into R. Remove any observations that have any ungraded test scores.</li>
<li>Calculate the means and standard deviations of each of the three subjects. Write a brief description of the insights that can be drawn from these values.</li>
<li>Conduct a t-test to see if the means of each of the three subjects’ marks are statistically different from 100 at the 95% confidence level. Identify three ways that suggest statistically significant or insignificant differences.</li>
<li>Conduct a t-test to see if the mean of the average score of the three tests is statistically less than 105 at the 99% confidence level. Interpret the results.</li>
<li>The following questions will look at students’ English abilities generally.
<ol type="a">
<li>Create a new variable called <code>english</code>, which consists of the average of the reading and grammar, punctuation, and spelling variables.</li>
<li>Conduct a t-test to see if the mean of the average score of the new English variable is statistically less than 105 at the 99.9% confidence level. Interpret the results.</li>
<li>Conduct a t-test to see if the mean of the average score of the new English variable is statistically different from 105 at the 99.9% confidence level. Interpret the results.</li>
<li>Is the any difference in the interpretation between the two above tests? Are there any differences in the results? Why?</li>
</ol></li>
<li>You are tasked with investing the performance of students who passed in mathematics those who did not. For the following tests, use a 95% confidence level.
<ol type="a">
<li>Create a binary variable that has two categories: those who passed mathematics (100 <span class="math inline">\(\leq\)</span> mark) and those who failed mathematics (mark <span class="math inline">\(&lt;\)</span> 100).</li>
<li>Conduct a proportion test to see if the proportion of students that fail mathematics is 10% or greater. Interpret the results.</li>
<li>Conduct a t-test on the group who fail mathematics to see if they, on average, have marks for English statistically less than 100. Interpret the results.</li>
<li>Conduct a t-test on the group who pass mathematics to see if they, on average, have marks for grammar, spelling, and punctuation statistically greater than 105. Interpret the results.</li>
</ol></li>
<li>Now it is worth investigating how students who fail at least one subject perform.
<ol type="a">
<li>Create a binary variable that has two categories: those who passed all three subjects (all marks greater than or equal to 100) and those who failed at least one subject (one or more marks less than 100).</li>
<li>It can be hypothesised that the group of students who failed will have a mean of all of the test marks significantly below the pass mark of 100. Test this and interpret the findings with respect to the statistical and practical significance of the test.</li>
</ol></li>
<li>Imagine you are part of a team work working within the Department for Education, tasked with investigating this sample to produce recommendations for policymakers.
<ol type="a">
<li>Normalise the variable that contains the average of all three marks by setting the lowest mark (80) to 0, the highest mark (120) to 100, and the minimum pass mark (100) to 50. Justify why it might be useful to normalise these marks to this scale for non-specialist policymakers.</li>
<li>Construct a categorical variable that consists of five categories: 0-49.99 (<code>Fail</code>), 50-59.99 (<code>Pass</code>), 60-60.99 (<code>Merit</code>), 70-79.99 (<code>Distinction</code>), and 80+ (<code>Distinction+</code>).</li>
<li>Answer the following questions but write your answers as if intended for a non-specialist policy making with no knowledge of statistics:
<ol type="i">
<li>Are the averages of the <code>Pass</code>, <code>Merit</code>, and <code>Distinction</code> groups different from their middle marks (55, 65, and 75, respectively)? If so, which direction?</li>
<li>Is the average mark of the <code>Distinction+</code> group lower than the maximum mark of the group?</li>
<li>Is the mean mark of the <code>Fail</code> group higher than the median mark of the group? Which skew does this indicate in the distribution?</li>
</ol></li>
</ol></li>
</ol>
</section>
<section id="solutions" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="solutions">Solutions</h2>
<p>You can find the Solutions in the <a href="https://drflolinke.github.io/PO11Q/11-Downloads.html">Downloads Section</a>.</p>
</section>
</section>
<section id="homework-for-week-10" class="level1 unnumbered">
<h1 class="unnumbered">Homework for Week 10</h1>
<ul>
<li>“Sit” the practice exam which uses a case study similar to the one you will receive in the exam.</li>
<li>Work through <a href="https://drflolinke.github.io/PO11Q/09-PO11Q.html#flashcards">this week’s flashcards</a> to familiarise yourself with the relevant R functions.</li>
<li>Find an example for each NEW function and apply it in R to ensure it works</li>
<li>Finish the <a href="https://drflolinke.github.io/PO11Q/08-PO11Q.html#exercises">Week 8 R Exercises</a></li>
<li>Prepare a list of questions you have for the exam.</li>
</ul>
</section>
<section id="glossary" class="level1 unnumbered">
<h1 class="unnumbered">Glossary</h1>
<p>&nbsp;</p>
<div class="glossary-table">
<div class="cell" data-tbl-colwidths="[25,75]">
<div id="tbl-glossary9" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[25,75]">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-glossary9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="cell table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Term</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">critical value</td>
<td style="text-align: left;">The critical value is a threshold that determines the boundary for rejecting the null hypothesis (H<span class="math inline">\(_0\)</span>) in a hypothesis test. It is a point on the probability distribution of the test statistic beyond which the null hypothesis is rejected. The critical value is chosen based on the significance level (<span class="math inline">\(\alpha\)</span>) of the test, which represents the probability of making a Type I error (i.e., rejecting a true null hypothesis).</td>
</tr>
<tr class="even">
<td style="text-align: left;">effect size</td>
<td style="text-align: left;">The magnitude of the difference or relationship. Larger effects are easier to spot and usually more practically important</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hypothesis</td>
<td style="text-align: left;">In statistics, a hypothesis is a formal statement about a population parameter or relationship between variables. Hypotheses guide statistical tests to determine whether data support or refute them. The hypothesis suggesting an effect or difference is called the alternative hypothesis. The alternative hypothesis is always paired with a null-hypothesis, suggesting no effect or difference.</td>
</tr>
<tr class="even">
<td style="text-align: left;">power</td>
<td style="text-align: left;">Also known as “sensitivity”. It is the probability that a test will detect a true effect (reject <span class="math inline">\(H_0\)</span> when it is false). Power grows with larger effects and larger samples, and shrinks when you demand stronger evidence (smaller <span class="math inline">\(\alpha\)</span>) or when variability is high</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p-value</td>
<td style="text-align: left;">The p-value indicates the probability of obtaining a result equal to, or even more extreme than the observed value in the direction of the alternative hypothesis, assuming the null hypothesis is true. Common thresholds for significance are 0.05, 0.01, and 0.001. A smaller p-value suggests stronger evidence against the null hypothesis. The p-value is denoted as <span class="math inline">\(p\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;">significance test</td>
<td style="text-align: left;">A significance test is a statistical method used to determine whether observed data provide enough evidence to reject a null hypothesis. It calculates a probability of observing data as extreme as, or more extreme than, the actual sample results, assuming the null hypothesis is true</td>
</tr>
<tr class="odd">
<td style="text-align: left;">test statistic</td>
<td style="text-align: left;">A test statistic is a value calculated from the sample data that is used to decide whether to reject the null hypothesis (H<span class="math inline">\(_0\)</span>) in a hypothesis test. It quantifies the degree to which the observed data diverges from what is expected under the null hypothesis. In a t-test, the test statistic is a t-value, which measures the distance between the sample mean and the (hypothesised) population mean, expressed in units of standard errors.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Type I Error</td>
<td style="text-align: left;">A Type I Error occurs when a null hypothesis (H<span class="math inline">\(_0\)</span>) that is actually true is incorrectly rejected. It is also known as a false positive errors, as it suggests that an effect of difference exists, when, in fact, it does not. The probability of committing a Type I Error is denoted by the significance level (<span class="math inline">\(\alpha\)</span>) of the test, which is typically set before conducting the test (e.g.&nbsp;<span class="math inline">\(\alpha\)</span> = 0.05). This means that there is a 5% chance of rejecting the true null hypothesis.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Type II Error</td>
<td style="text-align: left;">A Type II Error occurs when a null hypothesis (H<span class="math inline">\(_0\)</span>) that is actually false is incorrectly accepted (or not rejected). It is also known as a false negative error, as it suggests that no effect or difference exists when, in fact, there is one.</td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-glossary9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Glossary Week 9
</figcaption>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="flashcards" class="level1 unnumbered">
<h1 class="unnumbered">Flashcards</h1>
<div class="flashcard">
<details>
<summary>
New Functions This Week
</summary>
<div style="padding-bottom:56.25%; position:relative; display:block; width: 100%">
<p><iframe width="100%" height="100%" src="files/flashcards/PO11Q_Week 9_New.html" frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0"> </iframe></p>
</div>
<p>
&nbsp;
</p>
The data are available as a <a href="files/excelfiles/PO11Q_Week 9_New.csv">.csv file</a>.
</details>
</div>
<div class="flashcard">
<details>
<summary>
R Functions This Week
</summary>
<div style="padding-bottom:56.25%; position:relative; display:block; width: 100%">
<p><iframe width="100%" height="100%" src="files/flashcards/PO11Q_Week 9_All.html" frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0"> </iframe></p>
</div>
<p>
&nbsp;
</p>
The data are available as a <a href="files/excelfiles/PO11Q_Week 9_All.csv">.csv file</a>.
</details>
</div>
<div class="flashcard">
<details>
<summary>
All R Functions So Far
</summary>
<div style="padding-bottom:56.25%; position:relative; display:block; width: 100%">
<p><iframe width="100%" height="100%" src="files/flashcards/PO11Q_Week 9_Consolidate.html" frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0"> </iframe></p>
</div>
<p>
&nbsp;
</p>
The data are available as a <a href="files/excelfiles/PO11Q_Week 9_Consolidate.csv">.csv file</a>.
</details>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-boix:2003" class="csl-entry" role="listitem">
Boix, C., &amp; Stokes, S. (2003). <span>Endogenous Democratization</span>. <em><span>World Politics</span></em>, <em>55</em>, 517–549. https://doi.org/<a href="https://doi.org/10.1353/wp.2003.0019">https://doi.org/10.1353/wp.2003.0019</a>
</div>
<div id="ref-button:2013" class="csl-entry" role="listitem">
Button, K. S., Ioannidis, J. P. A., Mokrysz, C., Nosek, B. A., Flint, J., Robinson, E. S. J., &amp; Munafò, M. R. (2013). Power failure: Why small sample size undermines the reliability of neuroscience. <em>Nature Reviews Neuroscience</em>, <em>14</em>(5), 365–376. <a href="https://doi.org/10.1038/nrn3475">https://doi.org/10.1038/nrn3475</a>
</div>
<div id="ref-cohen:2013" class="csl-entry" role="listitem">
Cohen, J. (2013). <em>Statistical power analysis for the behavioral sciences</em>. Routledge. <a href="https://doi.org/10.4324/9780203771587">https://doi.org/10.4324/9780203771587</a>
</div>
<div id="ref-epstein:2006" class="csl-entry" role="listitem">
Epstein, D. L., Bates, R., Goldstone, J., Kristensen, I., &amp; O’Halloran, S. (2006). <span>Democratic Transitions</span>. <em><span>American Journal of Political Science</span></em>, <em>50</em>(3), 551–569. <a href="https://doi.org/10.1111/j.1540-5907.2006.00201.x">https://doi.org/10.1111/j.1540-5907.2006.00201.x</a>
</div>
<div id="ref-lakens:2013" class="csl-entry" role="listitem">
Lakens, D. (2013). Calculating and reporting effect sizes to facilitate cumulative science: A practical primer for t-tests and ANOVAs. <em>Frontiers in Psychology</em>, <em>4</em>. <a href="https://doi.org/10.3389/fpsyg.2013.00863">https://doi.org/10.3389/fpsyg.2013.00863</a>
</div>
<div id="ref-linke:forthcoming" class="csl-entry" role="listitem">
Linke, F. (forthcoming). <em><span class="nocase">Introduction to Quantitative Methods in the Social Sciences</span></em>. Oxford: Oxford University Press.
</div>
<div id="ref-prz:2000" class="csl-entry" role="listitem">
Przeworski, A., Alvarez, M. E., Cheibub, J. A., &amp; Limongi, F. (2000). <em><span class="nocase">Democracy and Development - Political Institutions and Well-Being in the World, 1950-1990</span></em>. Cambridge: Cambridge University Press. <a href="https://doi.org/10.1017/CBO9780511804946">https://doi.org/10.1017/CBO9780511804946</a>
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>All exercises are a reproduction from <span class="citation" data-cites="linke:forthcoming">Linke (forthcoming)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>The means are based on KS2 scaled score averages which have been averaged over 2016-2019.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const buttons = document.querySelectorAll(".delayed-download");

    buttons.forEach(function (btn) {
      const releaseDate = new Date(btn.dataset.date);
      const now = new Date();

      if (now >= releaseDate) {
        btn.classList.remove("disabled");
        btn.setAttribute("aria-disabled", "false");
        btn.setAttribute("href", btn.dataset.path);
        btn.setAttribute("download", btn.dataset.path.split('/').pop());
        btn.innerHTML = btn.dataset.label || "📄 Download Document";
      }
    });
  });
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/drflolinke\.github\.io\/PO11Q\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./08-PO11Q.html" class="pagination-link" aria-label="Week 8">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Week 8</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./10-PO11Q.html" class="pagination-link" aria-label="Week 10">
        <span class="nav-page-text"><span class="chapter-title">Week 10</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>